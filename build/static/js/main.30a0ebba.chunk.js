(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,n,t){e.exports=t(68)},41:function(e,n,t){},67:function(e,n,t){},68:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),s=t(27),c=t.n(s),i=(t(41),t(12)),l=t(8),o=t(34),u=t(6),p={signinError:!1,signinLoading:!1,name:"",passwordReset:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SIGNIN_REQUEST":case"PASSWORD_REQUEST":return Object(u.a)({},e,{signinLoading:!0});case"SIGNIN_REQUEST_SUCCEEDED":return Object(u.a)({},e,{signinLoading:!1,name:n.name});case"PASSWORD_REQUEST_SUCCEEDED":return Object(u.a)({},e,{signinLoading:!1,passwordReset:!0});case"SIGNIN_REQUEST_FAILED":case"PASSWORD_REQUEST_FAILED":return Object(u.a)({},e,{signinLoading:!1,signinError:!0});case"CLEAR_ERROR":return Object(u.a)({},e,{signinError:!1});case"CLEAR_PASSWORD":return Object(u.a)({},e,{passwordReset:!1});default:return e}},E=t(13),d=t.n(E),g=t(10),b=t(29),f=t.n(b),h={signin:"http://mrkt.little.team/api/public/users/login",password:"http://mrkt.little.team/api/public/users/reset-password"},R=function(e){var n=e.name,t=e.data;return f.a.post(h[n],t).then(function(e){return e.data}).catch(function(e){throw e})},S=d.a.mark(v),O=d.a.mark(N);function v(e){var n,t,a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.payload.name,t=n.toUpperCase(),r.prev=2,r.next=5,Object(g.a)(R,e.payload);case 5:if(null==(a=r.sent).error){r.next=11;break}return r.next=9,Object(g.b)({type:"".concat(t,"_REQUEST_FAILED")});case 9:r.next=13;break;case 11:return r.next=13,Object(g.b)({type:"".concat(t,"_REQUEST_SUCCEEDED"),name:"signin"===n?a.data.user.name:""});case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r.catch(2),r.next=19,Object(g.b)({type:"".concat(t,"_REQUEST_FAILED"),message:r.t0.message});case 19:case"end":return r.stop()}},S,null,[[2,15]])}function N(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)("SIGNIN_REQUEST",v);case 2:return e.next=4,Object(g.c)("PASSWORD_REQUEST",v);case 4:case"end":return e.stop()}},O)}var w=N,_=Object(o.a)(),j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,C=Object(l.d)(m,j(Object(l.a)(_)));_.run(w);var y=C,D=(t(67),t(15)),U=t(30),A=t(31),L=t(33),x=t(32),I=t(35),T=function(e){function n(){var e,t;Object(U.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=Object(L.a)(this,(e=Object(x.a)(n)).call.apply(e,[this].concat(r)))).state={login:"",password:""},t.handleChange=function(e){var n=e.target,a=n.name,r=n.value;t.setState(Object(u.a)({},t.state,Object(D.a)({},a,r)),function(){t.props.signinError&&t.props.clearError(),(a=""===r)&&t.props.clearPassword()})},t.handleSubmit=function(e){e.nativeEvent.preventDefault(),t.props.getRequest({name:"signin",data:t.state})},t.handleRemind=function(){t.props.getRequest({name:"password",data:{login:t.state.login}})},t}return Object(I.a)(n,e),Object(A.a)(n,[{key:"render",value:function(){var e=this,n=this.state,t=n.login,a=n.password,s=this.props,c=s.name,i=s.passwordReset,l=s.signinLoading,o=s.signinError,u=o||!t.length||!a.length||l,p=(t.length||a.length)&&!l;return c.length>0?r.a.createElement("div",{className:"signin is-ready"},r.a.createElement("div",{className:"signin-content"},r.a.createElement("div",{className:"signin-welcome"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c,",r.a.createElement("br",null),r.a.createElement("b",null,c),"!"))):r.a.createElement("div",{className:"signin is-ready"},r.a.createElement("div",{className:"signin-content"},r.a.createElement("form",{onSubmit:function(n){return e.handleSubmit(n)}},r.a.createElement("div",{className:"signin-main"},r.a.createElement("h2",null,"\u0412\u0445\u043e\u0434"),r.a.createElement("div",{className:"signin-row"},r.a.createElement("label",{className:"input"},r.a.createElement("span",{className:"input-label"},"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),r.a.createElement("span",{className:"input-wrapper"},r.a.createElement("input",{className:"input-field",autoComplete:"off",name:"login",type:"text",required:!0,onChange:function(n){return e.handleChange(n)},value:t}),r.a.createElement("span",{className:"input-focus"})))),r.a.createElement("div",{className:"signin-row"},r.a.createElement("label",{className:"input"},r.a.createElement("span",{className:"input-label"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("span",{className:"input-wrapper"},r.a.createElement("input",{className:"input-field",autoComplete:"off",name:"password",type:i?"text":"password",required:!0,disabled:i,onChange:function(n){return e.handleChange(n)},value:i?"\u0421\u0441\u044b\u043b\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\xa0\u043f\u043e\u0447\u0442\u0443":a}),r.a.createElement("span",{className:"input-focus"}),r.a.createElement("span",{className:"signin-remind ".concat(p?"active":""),onClick:p?this.handleRemind:null},"\u041d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"))))),r.a.createElement("div",{className:"signin-bottom"},r.a.createElement("button",{className:"btn btn--blue btn--big",type:"submit",disabled:u},"\u0412\u043e\u0439\u0442\u0438 \u043d\u0430 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0443")),o&&r.a.createElement("span",{className:"signin-error"},"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))))}}]),n}(a.Component),Q=Object(i.b)(function(e){return{state:e}},{getRequest:function(e){var n=e.name;return{type:"".concat(n.toUpperCase(),"_REQUEST"),payload:e}},clearError:function(e){return{type:"CLEAR_ERROR",payload:e}},clearPassword:function(e){return{type:"CLEAR_PASSWORD"}}})(T),k=Object(i.b)(function(e){return e})(Q);document.title="\u0422\u043e\u0440\u0433\u043e\u0432\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430 \u2014 \u0412\u043e\u0439\u0442\u0438",c.a.render(r.a.createElement(function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"appContainer"},r.a.createElement(i.a,{store:y},r.a.createElement(k,null))))},null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.30a0ebba.chunk.js.map